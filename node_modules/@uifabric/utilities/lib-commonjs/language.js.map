{"version":3,"file":"language.js","sourceRoot":"../src/","sources":["language.ts"],"names":[],"mappings":";;AAAA,iDAAgD;AAChD,+CAAkD;AAElD,4DAA4D;AAC5D,IAAI,SAAwB,CAAC;AAE7B;;;;GAIG;AACH,SAAgB,WAAW;IACzB,IAAI,SAAS,KAAK,SAAS,EAAE;QAC3B,IAAI,GAAG,GAAG,yBAAW,EAAE,CAAC;QACxB,IAAM,aAAa,GAAG,sBAAO,CAAC,UAAU,CAAC,CAAC;QAE1C,IAAI,aAAa,KAAK,IAAI,EAAE;YAC1B,SAAS,GAAG,aAAa,CAAC;SAC3B;QAED,IAAI,SAAS,KAAK,SAAS,IAAI,GAAG,EAAE;YAClC,SAAS,GAAG,GAAG,CAAC,eAAe,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;SACtD;QAED,IAAI,SAAS,KAAK,SAAS,EAAE;YAC3B,SAAS,GAAG,IAAI,CAAC;SAClB;KACF;IAED,OAAO,SAAS,CAAC;AACnB,CAAC;AAnBD,kCAmBC;AAED;;;;GAIG;AACH,SAAgB,WAAW,CAAC,QAAgB,EAAE,eAAgC;IAAhC,gCAAA,EAAA,uBAAgC;IAC5E,IAAI,GAAG,GAAG,yBAAW,EAAE,CAAC;IAExB,IAAI,GAAG,EAAE;QACP,GAAG,CAAC,eAAe,CAAC,YAAY,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;KACpD;IAED,IAAI,CAAC,eAAe,EAAE;QACpB,sBAAO,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC;KAC/B;IAED,SAAS,GAAG,QAAQ,CAAC;AACvB,CAAC;AAZD,kCAYC","sourcesContent":["import { getDocument } from './dom/getDocument';\nimport { getItem, setItem } from './localStorage';\n\n// Default to undefined so that we initialize on first read.\nlet _language: string | null;\n\n/**\n * Gets the rtl state of the page (returns true if in rtl.)\n *\n * @public\n */\nexport function getLanguage(): string | null {\n  if (_language === undefined) {\n    let doc = getDocument();\n    const savedLanguage = getItem('language');\n\n    if (savedLanguage !== null) {\n      _language = savedLanguage;\n    }\n\n    if (_language === undefined && doc) {\n      _language = doc.documentElement.getAttribute('lang');\n    }\n\n    if (_language === undefined) {\n      _language = 'en';\n    }\n  }\n\n  return _language;\n}\n\n/**\n * Sets the rtl state of the page (by adjusting the dir attribute of the html element.)\n *\n * @public\n */\nexport function setLanguage(language: string, avoidPersisting: boolean = false): void {\n  let doc = getDocument();\n\n  if (doc) {\n    doc.documentElement.setAttribute('lang', language);\n  }\n\n  if (!avoidPersisting) {\n    setItem('language', language);\n  }\n\n  _language = language;\n}\n"]}