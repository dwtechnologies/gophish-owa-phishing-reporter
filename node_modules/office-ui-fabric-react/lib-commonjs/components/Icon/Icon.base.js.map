{"version":3,"file":"Icon.base.js","sourceRoot":"../src/","sources":["components/Icon/Icon.base.tsx"],"names":[],"mappings":";;;AAAA,6BAA+B;AAE/B,2CAAkF;AAClF,wCAAuC;AACvC,oDAAmE;AACnE,6CAA4F;AAC5F,uCAA4C;AAM5C,IAAM,aAAa,GAAG,8BAAkB,CAA+B;IACrE,cAAc,EAAE,IAAI;CACrB,CAAC,CAAC;AAEH;IAA8B,oCAAuC;IACnE,kBAAY,KAAiB;QAA7B,YACE,kBAAM,KAAK,CAAC,SAIb;QA0CO,+BAAyB,GAAG,UAAC,KAAqB;YACxD,IAAI,KAAI,CAAC,KAAK,CAAC,UAAU,IAAI,KAAI,CAAC,KAAK,CAAC,UAAU,CAAC,oBAAoB,EAAE;gBACvE,KAAI,CAAC,KAAK,CAAC,UAAU,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;aACnD;YACD,IAAI,KAAK,KAAK,4BAAc,CAAC,KAAK,EAAE;gBAClC,KAAI,CAAC,QAAQ,CAAC,EAAE,cAAc,EAAE,IAAI,EAAE,CAAC,CAAC;aACzC;QACH,CAAC,CAAC;QApDA,KAAI,CAAC,KAAK,GAAG;YACX,cAAc,EAAE,KAAK;SACtB,CAAC;;IACJ,CAAC;IAEM,yBAAM,GAAb;QACQ,IAAA,eAAiE,EAA/D,wBAAS,EAAE,kBAAM,EAAE,sBAAQ,EAAE,8BAAY,EAAE,gBAAoB,CAAC;QACxE,IAAM,aAAa,GAAG,OAAO,QAAQ,KAAK,QAAQ,IAAI,QAAQ,CAAC,MAAM,KAAK,CAAC,CAAC;QAC5E,IAAM,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,KAAK,qBAAQ,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,KAAK,qBAAQ,CAAC,KAAK,IAAI,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC;QACtH,IAAA,wCAAsD,EAApD,gCAAa,EAAE,sBAAqC,CAAC;QAE7D,IAAM,UAAU,GAAG,aAAa,CAAC,MAAM,EAAE;YACvC,KAAK,EAAE,KAAM;YACb,SAAS,WAAA;YACT,aAAa,eAAA;YACb,OAAO,SAAA;YACP,aAAa,eAAA;SACd,CAAC,CAAC;QAEH,IAAM,QAAQ,GAAG,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC;QACvC,IAAM,WAAW,GAAG,0BAAc,CAAuC,IAAI,CAAC,KAAK,EAAE,iCAAqB,EAAE,CAAC,YAAY,CAAC,CAAC,CAAC;QACpH,IAAA,0CAAc,CAAgB;QACtC,IAAM,UAAU,wBACX,IAAI,CAAC,KAAK,CAAC,UAAU,IACxB,oBAAoB,EAAE,IAAI,CAAC,yBAAyB,GACrD,CAAC;QACF,IAAM,SAAS,GAAG,CAAC,cAAc,IAAI,YAAY,CAAC,IAAI,aAAK,CAAC;QAE5D,IAAM,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,IAAI,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;QACnE,IAAM,cAAc,GAAG,SAAS;YAC9B,CAAC,CAAC;gBACE,YAAY,EAAE,SAAS;aACxB;YACH,CAAC,CAAC;gBACE,IAAI,EAAE,cAAc;gBACpB,aAAa,EAAE,UAAU,CAAC,GAAG,IAAI,UAAU,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI;aAC9E,CAAC;QAEN,OAAO,CACL,oBAAC,QAAQ,uCAAiB,QAAQ,IAAM,cAAc,EAAM,WAAW,IAAE,SAAS,EAAE,UAAU,CAAC,IAAI,KAChG,OAAO,CAAC,CAAC,CAAC,oBAAC,SAAS,uBAAK,UAAU,EAAI,CAAC,CAAC,CAAC,QAAQ,CAC1C,CACZ,CAAC;IACJ,CAAC;IAUH,eAAC;AAAD,CAAC,AAxDD,CAA8B,KAAK,CAAC,SAAS,GAwD5C;AAxDY,4BAAQ","sourcesContent":["import * as React from 'react';\n\nimport { IIconProps, IconType, IIconStyleProps, IIconStyles } from './Icon.types';\nimport { Image } from '../Image/Image';\nimport { ImageLoadState, IImageProps } from '../Image/Image.types';\nimport { getNativeProps, htmlElementProperties, classNamesFunction } from '../../Utilities';\nimport { getIconContent } from './FontIcon';\n\nexport interface IIconState {\n  imageLoadError: boolean;\n}\n\nconst getClassNames = classNamesFunction<IIconStyleProps, IIconStyles>({\n  disableCaching: true\n});\n\nexport class IconBase extends React.Component<IIconProps, IIconState> {\n  constructor(props: IIconProps) {\n    super(props);\n    this.state = {\n      imageLoadError: false\n    };\n  }\n\n  public render() {\n    const { className, styles, iconName, imageErrorAs, theme } = this.props;\n    const isPlaceholder = typeof iconName === 'string' && iconName.length === 0;\n    const isImage = this.props.iconType === IconType.image || this.props.iconType === IconType.Image || !!this.props.imageProps;\n    const { iconClassName, children } = getIconContent(iconName);\n\n    const classNames = getClassNames(styles, {\n      theme: theme!,\n      className,\n      iconClassName,\n      isImage,\n      isPlaceholder\n    });\n\n    const RootType = isImage ? 'div' : 'i';\n    const nativeProps = getNativeProps<React.HTMLAttributes<HTMLDivElement>>(this.props, htmlElementProperties, ['aria-label']);\n    const { imageLoadError } = this.state;\n    const imageProps: IImageProps = {\n      ...this.props.imageProps,\n      onLoadingStateChange: this.onImageLoadingStateChange\n    };\n    const ImageType = (imageLoadError && imageErrorAs) || Image;\n\n    const ariaLabel = this.props.ariaLabel || this.props['aria-label'];\n    const containerProps = ariaLabel\n      ? {\n          'aria-label': ariaLabel\n        }\n      : {\n          role: 'presentation',\n          'aria-hidden': imageProps.alt || imageProps['aria-labelledby'] ? false : true\n        };\n\n    return (\n      <RootType data-icon-name={iconName} {...containerProps} {...nativeProps} className={classNames.root}>\n        {isImage ? <ImageType {...imageProps} /> : children}\n      </RootType>\n    );\n  }\n\n  private onImageLoadingStateChange = (state: ImageLoadState): void => {\n    if (this.props.imageProps && this.props.imageProps.onLoadingStateChange) {\n      this.props.imageProps.onLoadingStateChange(state);\n    }\n    if (state === ImageLoadState.error) {\n      this.setState({ imageLoadError: true });\n    }\n  };\n}\n"]}