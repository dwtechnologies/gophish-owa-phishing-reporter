{"version":3,"file":"Selection.Basic.Example.js","sourceRoot":"../src/","sources":["utilities/selection/examples/Selection.Basic.Example.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { CommandBar } from 'office-ui-fabric-react/lib/CommandBar';\nimport { Check } from 'office-ui-fabric-react/lib/Check';\nimport { IContextualMenuItem } from 'office-ui-fabric-react/lib/ContextualMenu';\nimport { MarqueeSelection } from 'office-ui-fabric-react/lib/MarqueeSelection';\nimport { ISelection, Selection, SelectionMode, SelectionZone } from 'office-ui-fabric-react/lib/Selection';\nimport { createListItems, IExampleItem } from '@uifabric/example-data';\nimport { mergeStyleSets, IRawStyle } from 'office-ui-fabric-react/lib/Styling';\nimport { memoizeFunction } from 'office-ui-fabric-react/lib/Utilities';\n\nconst commonStyles: IRawStyle = {\n  display: 'inline-block',\n  cursor: 'default',\n  boxSizing: 'border-box',\n  verticalAlign: 'top',\n  background: 'none',\n  backgroundColor: 'transparent',\n  border: 'none'\n};\nconst classNames = mergeStyleSets({\n  item: {\n    selectors: {\n      '&:hover': { background: '#eee' }\n    }\n  },\n  // Overwrites the default style for Button\n  check: [commonStyles, { padding: '11px 8px' }],\n  cell: [\n    commonStyles,\n    {\n      overflow: 'hidden',\n      height: 36,\n      padding: 8\n    }\n  ]\n});\n\nconst ITEM_COUNT = 100;\n\nexport interface ISelectionBasicExampleState {\n  items: IExampleItem[];\n  selection: ISelection;\n  selectionMode: SelectionMode;\n  canSelect: 'all' | 'vowels';\n}\n\ninterface ISelectionItemExampleProps {\n  item: IExampleItem;\n  itemIndex?: number;\n  selection?: ISelection;\n  selectionMode?: SelectionMode;\n}\n\n/**\n * The SelectionItemExample controls and displays the selection state of a single item\n */\nconst SelectionItemExample: React.StatelessComponent<ISelectionItemExampleProps> = (props: ISelectionItemExampleProps) => {\n  const { item, itemIndex, selection } = props;\n  let isSelected = false;\n\n  if (selection && itemIndex !== undefined) {\n    isSelected = selection.isIndexSelected(itemIndex);\n  }\n\n  return (\n    <div className={classNames.item} data-is-focusable={true} data-selection-index={itemIndex}>\n      {selection && selection.canSelectItem(item) && selection.mode !== SelectionMode.none && (\n        <div className={classNames.check} data-is-focusable={true} data-selection-toggle={true}>\n          <Check checked={isSelected} />\n        </div>\n      )}\n      <span className={classNames.cell}>{item.name}</span>\n      <a className={classNames.cell} href=\"https://bing.com\" target=\"_blank\">\n        Link that avoids selection\n      </a>\n      <a className={classNames.cell} data-selection-select={true} href=\"https://bing.com\" target=\"_blank\">\n        Link that selects first\n      </a>\n    </div>\n  );\n};\n\n/**\n * The SelectionBasicExample controls the selection state of all items\n */\nexport class SelectionBasicExample extends React.Component<{}, ISelectionBasicExampleState> {\n  private _hasMounted: boolean;\n\n  constructor(props: {}) {\n    super(props);\n\n    this._hasMounted = false;\n    // Memoizing this means that given the same parameters, it will return the same array of command objects\n    // (performance optimization)\n    this._getCommandItems = memoizeFunction(this._getCommandItems);\n\n    this.state = {\n      items: createListItems(ITEM_COUNT),\n      selection: new Selection({ onSelectionChanged: this._onSelectionChanged }),\n      selectionMode: SelectionMode.multiple,\n      canSelect: 'all'\n    };\n    this.state.selection.setItems(this.state.items, false);\n  }\n\n  public componentDidMount(): void {\n    this._hasMounted = true;\n  }\n\n  public render(): JSX.Element {\n    const { items, selection, canSelect } = this.state;\n\n    return (\n      <div className=\"ms-SelectionBasicExample\">\n        <CommandBar items={this._getCommandItems(selection.mode, canSelect)} />\n        <MarqueeSelection selection={selection} isEnabled={selection.mode === SelectionMode.multiple}>\n          <SelectionZone selection={selection} onItemInvoked={this._alertItem}>\n            {items.map((item: IExampleItem, index: number) => (\n              <SelectionItemExample key={item.key} item={item} itemIndex={index} selection={selection} />\n            ))}\n          </SelectionZone>\n        </MarqueeSelection>\n      </div>\n    );\n  }\n\n  private _alertItem = (item: IExampleItem): void => {\n    alert('item invoked: ' + item.name);\n  };\n\n  private _onSelectionChanged = (): void => {\n    if (this._hasMounted) {\n      this.forceUpdate();\n    }\n  };\n\n  private _onToggleSelectAll = (): void => {\n    const { selection } = this.state;\n    selection.toggleAllSelected();\n  };\n\n  private _onSelectionModeChanged = (ev: React.MouseEvent<HTMLElement>, menuItem: IContextualMenuItem): void => {\n    this.setState((previousState: ISelectionBasicExampleState) => {\n      const newSelection = new Selection({\n        onSelectionChanged: this._onSelectionChanged,\n        canSelectItem: previousState.canSelect === 'vowels' ? this._canSelectItem : undefined,\n        selectionMode: menuItem.data\n      });\n      newSelection.setItems(previousState.items, false);\n\n      return {\n        selection: newSelection\n      };\n    });\n  };\n\n  private _onCanSelectChanged = (ev: React.MouseEvent<HTMLElement>, menuItem: IContextualMenuItem): void => {\n    const canSelectItem = menuItem.data === 'vowels' ? this._canSelectItem : undefined;\n\n    this.setState((previousState: ISelectionBasicExampleState) => {\n      const newSelection = new Selection({\n        onSelectionChanged: this._onSelectionChanged,\n        canSelectItem: canSelectItem,\n        selectionMode: previousState.selection.mode\n      });\n      newSelection.setItems(previousState.items, false);\n      return {\n        selection: newSelection,\n        canSelect: menuItem.data === 'vowels' ? 'vowels' : 'all'\n      };\n    });\n  };\n\n  private _canSelectItem = (item: IExampleItem): boolean => {\n    return /^[aeiou]/.test(item.name || '');\n  };\n\n  private _getCommandItems = (selectionMode: SelectionMode, canSelect: 'all' | 'vowels'): IContextualMenuItem[] => {\n    return [\n      {\n        key: 'selectionMode',\n        text: 'Selection Mode',\n        items: [\n          {\n            key: SelectionMode[SelectionMode.none],\n            name: 'None',\n            canCheck: true,\n            checked: selectionMode === SelectionMode.none,\n            onClick: this._onSelectionModeChanged,\n            data: SelectionMode.none\n          },\n          {\n            key: SelectionMode[SelectionMode.single],\n            name: 'Single select',\n            canCheck: true,\n            checked: selectionMode === SelectionMode.single,\n            onClick: this._onSelectionModeChanged,\n            data: SelectionMode.single\n          },\n          {\n            key: SelectionMode[SelectionMode.multiple],\n            name: 'Multi select',\n            canCheck: true,\n            checked: selectionMode === SelectionMode.multiple,\n            onClick: this._onSelectionModeChanged,\n            data: SelectionMode.multiple\n          }\n        ]\n      },\n      {\n        key: 'selectAll',\n        text: 'Select All',\n        iconProps: { iconName: 'CheckMark' },\n        onClick: this._onToggleSelectAll\n      },\n      {\n        key: 'allowCanSelect',\n        text: 'Choose selectable items',\n        items: [\n          {\n            key: 'all',\n            name: 'All items',\n            canCheck: true,\n            checked: canSelect === 'all',\n            onClick: this._onCanSelectChanged,\n            data: 'all'\n          },\n          {\n            key: 'a',\n            name: 'Names starting with vowels',\n            canCheck: true,\n            checked: canSelect === 'vowels',\n            onClick: this._onCanSelectChanged,\n            data: 'vowels'\n          }\n        ]\n      }\n    ];\n  };\n}\n"]}